{
  "hash": "17f9541cae9419ce04420e0af49a710a",
  "result": {
    "markdown": "---\ntitle: \"Simple Random Sampling\"\nformat: \n  html\nexecute:\n  echo: true\n---\n\n\nSurvei adalah **menduga** parameter populasi berdasarsarkan informasi sampel. Faktor apa saja yang memengaruhi jumlah informasi di sampel?\n\n1.  Ukuran sampel\n2.  Keragaman di sampel - dapat dikontrol dengan rancangan percontohan yang baik. Paling sederhana: **simple random sampling**\n\n## Simple Random Sampling\n\nDua poin penting:\n\n1.  Semua elemen memiliki **peluang sama** untuk dipilih.\n2.  Pemilihan elemen **saling bebas**. Artinya, ada atau tidaknya elemen di sampel tidak memengaruhi probabilitas elemen lain dipilih.\n\n### Exercise: apakah ini sampel acak sederhana?\n\nDo these methods produce a simple random sample of students from a class of 30 students?\n\n1.  Select the first six students on the class roll sheet (*absensi*).\n2.  Pick a digit at random and select those students whose phone numbers end in that digit.\n3.  If the classroom has six rows of chairs with five seats in each row, choose a row at random and select all students in that row.\n4.  If the class consists of 15 boys and 15 girls, assign the boys the numbers from 1 to 15, and the girls the numbers from 16 to 30. Then use a random digit table to select six numbers from 1 to 30. Select the students assigned those numbers in your sample.\n5.  If the class consists of 15 boys and 15 girls, assign the boys the numbers from 1 to 15, and the girls the numbers from 16 to 30. Then use a random digit table to select three numbers from 1 to 15 and three numbers from 16 to 30. Select the students assigned those numbers in your sample.\n6. Randomly choose a letter from the English alphabet and select for the sample those students whose last names begin with that letter. If no last name begins with that letter, randomly choose another letter from the alphabet.\n\nKunci dari jawaban tersebut adalah:\n\n1.  Select the first six students on the class roll sheet (*absensi*) - **peluang tak sama**. Enam orang pertama pasti terpilih, orang lainnya tidak mungkin terpilih.\n2.  Pick a digit at random and select those students whose phone numbers end in that digit - **sampel acak sederhana**. Alokasi nomor telpon cukup acak dan pemilihan juga acak.\n3.  If the classroom has six rows of chairs with five seats in each row, choose a row at random and select all students in that row - **tidak saling bebas**. Jika elemen di baris tersebut terpilih, pasti elemen lain juga terpilih. Lalu, elemen di baris lain pasti tidak terpilih.\n4.  If the class consists of 15 boys and 15 girls, assign the boys the numbers from 1 to 15, and the girls the numbers from 16 to 30. Then use a random digit table to select six numbers from 1 to 30. Select the students assigned those numbers in your sample - **sampel acak sederhana**.\n5.  If the class consists of 15 boys and 15 girls, assign the boys the numbers from 1 to 15, and the girls the numbers from 16 to 30. Then use a random digit table to select three numbers from 1 to 15 and three numbers from 16 to 30. Select the students assigned those numbers in your sample - **tidak saling bebas**. Jika 3 laki-laki dipilih, pasti tidak mungkin laki-laki lain dipilih.\n6. Randomly choose a letter from the English alphabet and select for the sample those students whose last names begin with that letter. If no last name begins with that letter, randomly choose another letter from the alphabet. **Apakah nama-nama yang diawali alfabet tertentu lebih mungkin daripada alfabet lain?**. Selain itu, mungkin tidak saling bebas karena jika nama akhir yang banyak dimiliki orang terpilih; orang dengan nama lain tak mungkin terpilih.\n\n### Contoh - Rating TV\n\n-   Apakah Anda memiliki acara televisi favorit?\n-   Apakah acara favorit Anda pernah mengalami berhenti tayang (*cancellation*)?\n-   Bagaimana stasiun televisi menentukan acara mana yang diberhentikan?\n\nNielsen Ratings - ambil 5000 rumah tangga di AS; tidak boleh ada relawan. Dipasang meter elektronik yang mengetahui acara yang sedang ditonton.\n\n### Cara Mengambil Sampel Acak Sederhana\n\nCara salah:\n\n-   Haphazard: sesuai keinginan peneliti\n-   Representative: ambil sampel yang dianggap mewakili populasi\n\nPeneliti bisa saja berbias dan walaupun representatif, **tingkat kesalahan tak dapat diketahui** karena tidak diketahui struktur probabilitasnya.\n\nCara benar:\n\n-   Undian - masukkan angka 1 sampai n, ambil!\n-   Tabel angka acak - biasananya menggunakan komputer!\n\n### Exercise: deskripsikan bias\n\n1. A student wants to determine the average size of farms in a county in Iowa. He drops some rice randomly on a map of the county and uses the farms hit by grains of rice as the sample (*county - kabupaten*).\n2. To find the average length of string in a bag, a student reaches in, mixes up the strings, selects one, mixes them up again, selects another, and so on (*string - tali*).\n3. To estimate the percentage of students who passed the first Advanced Placement Statistics exam, a teacher on an Internet discussion list for teachers of AP Statistics asked teachers on the list to report to him how many of their students took the test and how many passed (*discussion list - forum diskusi*).\n4. In 1984, Ann Landers conducted a poll on the marital happiness of women by asking women to write to her (*marital - pernikahan*).\n5. In a study about whether valedictorians “succeed big in life,” a professor “traveled across Illinois, attending high school graduations and selecting 81 students to participate. . . . He picked students from the most diverse communities possible, from little rural schools to rich suburban schools near Chicago to city schools.”\n\n*Valedictorian: lulusan terbaik.*\n\nJawaban dari exercise tersebut adalah:\n\n1. A student wants to determine the average size of farms in a county in Iowa. He drops some rice randomly on a map of the county and uses the farms hit by grains of rice as the sample (*county - kabupaten*) - **proses ini cukup acak**.\n2. To find the average length of string in a bag, a student reaches in, mixes up the strings, selects one, mixes them up again, selects another, and so on (*string - tali*) - **proses ini juga cukup acak**.\n3. To estimate the percentage of students who passed the first Advanced Placement Statistics exam, a teacher on an Internet discussion list for teachers of AP Statistics asked teachers on the list to report to him how many of their students took the test and how many passed (*discussion list - forum diskusi*) - **ada bias yang muncul karena guru-guru yang menjawab di forum diskusi belum tentu representatif terhadap guru umumnya**. Mungkin, guru tersebut lebih ambisius.\n4. In 1984, Ann Landers conducted a poll on the marital happiness of women by asking women to write to her (*marital - pernikahan*). **Bias yang sama**. Orang yang menulis tentang pernikahannya mungkin memiliki perasaan ekstrim, seperti sangat senang atau sangat marah.\n5. In a study about whether valedictorians “succeed big in life,” a professor “traveled across Illinois, attending high school graduations and selecting 81 students to participate. . . . He picked students from the most diverse communities possible, from little rural schools to rich suburban schools near Chicago to city schools.” \n\n**Walaupun representatif, tingkat kesalahan tak dapat diperkirakan**.\n\nUntuk melakukan pengacakan, sering dipakai *random number generator*:\n\n::: {.panel-tabset}\n## Excel\n\nGunakan fungsi `=RAND()`:\n![Contoh di Excel](excel-rand.png)\n\n## R\nGunakan fungsi `runif()`:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nrunif(100) |> head(5)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 0.4870800 0.4889403 0.5108707 0.3366076 0.9833237\n```\n:::\n:::\n\n\n## Python\nGunakan rng dari package `numpy`:\n\n\n::: {.cell}\n\n```{.python .cell-code}\nimport numpy as np\n\nrng = np.random.default_rng(3854)\nrng.random(5)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\narray([0.50955422, 0.53163209, 0.98811285, 0.47079458, 0.08600762])\n```\n:::\n:::\n\n:::\n\n## Memilih sampel acak sederhana\n\nAlgoritma:\n\n1. Buat angka acak sejumlah elemen yang ada\n2. Pasangkan tiap elemen dengan angka acak\n3. Urutkan elemen sesuai angka acak, pilih n teratas.\n\n### Step 0: Lihat Dataset dan Jumlah Row\n\nSebelum melaksanakan algoritma tersebut, lihat dataset dan jumlah row:\n\n::: {.panel-tabset}\n## Excel\n\nPertama, ambil data dari csv:\n\n![Pengambilan data](step0-getdata.png)\n\nPilih file, lalu preview dan load:\n\n![Preview](step0-preview.png)\n\nData akan terlihat di Excel.\n\n## R\n\nLangkah relatif sama. Baca CSV, lihat file.\n\n\n::: {.cell}\n\n```{.r .cell-code}\npenguins <- read.csv(\"penguins.csv\")\n\npenguins |> head(3)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n  rowid species    island bill_length_mm bill_depth_mm flipper_length_mm\n1     1  Adelie Torgersen           39.1          18.7               181\n2     2  Adelie Torgersen           39.5          17.4               186\n3     3  Adelie Torgersen           40.3          18.0               195\n  body_mass_g    sex year\n1        3750   male 2007\n2        3800 female 2007\n3        3250 female 2007\n```\n:::\n\n```{.r .cell-code}\npenguins |> nrow()\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 344\n```\n:::\n:::\n\n\n## Python\n\n::: {.cell}\n\n```{.python .cell-code}\nimport pandas as pd\n\npenguins = pd.read_csv(\"penguins.csv\")\nprint(penguins.head())\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n   rowid species     island  ...  body_mass_g     sex  year\n0      1  Adelie  Torgersen  ...       3750.0    male  2007\n1      2  Adelie  Torgersen  ...       3800.0  female  2007\n2      3  Adelie  Torgersen  ...       3250.0  female  2007\n3      4  Adelie  Torgersen  ...          NaN     NaN  2007\n4      5  Adelie  Torgersen  ...       3450.0  female  2007\n\n[5 rows x 9 columns]\n```\n:::\n\n```{.python .cell-code}\nprint(len(penguins.index))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n344\n```\n:::\n:::\n\n:::\n\n### Step 1-2: Angka Acak, Pasangkan\n\nLalu, buat angka acak. Angka acak ini merupakan kolom baru di dataset. Tiap elemen mendapat angka acak yang unik. Bagaimana kita tahu jumlah angka acak yang perlu dibuat? Cari terlebih dahulu jumlah elemen di dataset.\n\n::: {.panel-tabset}\n## Excel\n\nBuat angka acak dengan `rand()`.\n\n![Angka acak](step1-genrand.png)\n\nNamun, angka acak ini akan selalu berubah jika di-*sort*. Oleh karena itu, *copy*, (**CTRL+C**) lalu paste *as value*. Opsi *paste as value* ditemukan dengan meng-klik kanan:\n\n![Menu paste](step1-paste1.png)\n\nLalu ditemukan opsi tersebut; opsi berupa suatu *clipboard* (kertas di atas papan jalan) dengan angka 123:\n\n![Paste as value](step1-paste2.png)\n\n## R\n\nJumlah angka acak dicari menggunakan nrow dari dataset. Mutate menghasilkan peubah baru.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(dplyr)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n\nAttaching package: 'dplyr'\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nThe following objects are masked from 'package:stats':\n\n    filter, lag\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nThe following objects are masked from 'package:base':\n\n    intersect, setdiff, setequal, union\n```\n:::\n\n```{.r .cell-code}\npenguins <- read.csv(\"penguins.csv\")\npenguins <- penguins |> mutate(rando = runif(nrow(penguins)))\n\npenguins |> head(3) |> knitr::kable()\n```\n\n::: {.cell-output-display}\n| rowid|species |island    | bill_length_mm| bill_depth_mm| flipper_length_mm| body_mass_g|sex    | year|     rando|\n|-----:|:-------|:---------|--------------:|-------------:|-----------------:|-----------:|:------|----:|---------:|\n|     1|Adelie  |Torgersen |           39.1|          18.7|               181|        3750|male   | 2007| 0.1489368|\n|     2|Adelie  |Torgersen |           39.5|          17.4|               186|        3800|female | 2007| 0.9326685|\n|     3|Adelie  |Torgersen |           40.3|          18.0|               195|        3250|female | 2007| 0.5013268|\n:::\n:::\n\n\n## Python\n\nAlgoritma sama. `namaDataset.insert` digunakan untuk memasukkan angka acak.\n\n\n::: {.cell}\n\n```{.python .cell-code}\nimport pandas as pd\nimport numpy as np\npenguins = pd.read_csv(\"penguins.csv\") #load csv\n\n#generate random number\nrng = np.random.default_rng(3854)\nrando = rng.random(len(penguins.index))\n\npenguins.insert(loc = 0, column = 'randomNumber', value = rando) #insert random number\npenguins.head() #show\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n   randomNumber  rowid species  ... body_mass_g     sex  year\n0      0.509554      1  Adelie  ...      3750.0    male  2007\n1      0.531632      2  Adelie  ...      3800.0  female  2007\n2      0.988113      3  Adelie  ...      3250.0  female  2007\n3      0.470795      4  Adelie  ...         NaN     NaN  2007\n4      0.086008      5  Adelie  ...      3450.0  female  2007\n\n[5 rows x 10 columns]\n```\n:::\n:::\n\n:::\n\n### Step 3: Sort, Ambil\n\nLalu, sortir data-nya dan ambil n data teratas:\n\n::: {.panel-tabset}\n## Excel\n\nJika sudah berbentuk tabel, klik kolom nilai acak lalu *sort* sesuai keinginan:\n\n![Sortir, jika tabel](step3-sort1.png)\n\nJika belum berbentuk tabel, pilih *sampling frame* yang ingin disortir, lalu klik *sort & filter*.\n\n![Sortir, tanpa tabel](step-sort21.png)\n\nLalu, pilih kolom nilai acak dan sortir.\n\n![](step2-sort22.png)\n\n## R\n\nSortir menggunakan *arrange*. \n\n\n::: {.cell}\n\n```{.r .cell-code}\npenguins |> arrange(desc(rando)) |>\n  head(3) |> knitr::kable()\n```\n\n::: {.cell-output-display}\n| rowid|species |island | bill_length_mm| bill_depth_mm| flipper_length_mm| body_mass_g|sex    | year|     rando|\n|-----:|:-------|:------|--------------:|-------------:|-----------------:|-----------:|:------|----:|---------:|\n|   273|Gentoo  |Biscoe |           46.8|          14.3|               215|        4850|female | 2009| 0.9963196|\n|   251|Gentoo  |Biscoe |           48.4|          14.4|               203|        4625|female | 2009| 0.9911072|\n|   206|Gentoo  |Biscoe |           50.1|          15.0|               225|        5000|male   | 2008| 0.9888132|\n:::\n:::\n\n\n## Python\n\nGunakan `namaDataset.sort_values(by = \"kolom angka acak\", ...)` \n\n\n::: {.cell}\n\n```{.python .cell-code}\nimport pandas as pd\n\npenguins_sorted = penguins.sort_values(by = \"randomNumber\", ascending=False)\nprint(penguins_sorted.head(58))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n     randomNumber  rowid    species  ... body_mass_g     sex  year\n82       0.998006     83     Adelie  ...      3800.0  female  2008\n2        0.988113      3     Adelie  ...      3250.0  female  2007\n179      0.985227    180     Gentoo  ...      5650.0    male  2007\n64       0.982089     65     Adelie  ...      2850.0  female  2008\n20       0.981606     21     Adelie  ...      3400.0  female  2007\n316      0.979618    317  Chinstrap  ...      3950.0    male  2008\n36       0.978045     37     Adelie  ...      3950.0    male  2007\n226      0.971176    227     Gentoo  ...      4700.0  female  2008\n88       0.968786     89     Adelie  ...      3950.0    male  2008\n291      0.967539    292  Chinstrap  ...      4050.0    male  2007\n142      0.964342    143     Adelie  ...      3050.0  female  2009\n66       0.964280     67     Adelie  ...      3350.0  female  2008\n192      0.964219    193     Gentoo  ...      3950.0  female  2008\n245      0.962202    246     Gentoo  ...      5650.0    male  2009\n337      0.957290    338  Chinstrap  ...      3650.0  female  2009\n261      0.955021    262     Gentoo  ...      5500.0    male  2009\n215      0.951514    216     Gentoo  ...      5650.0    male  2008\n91       0.949608     92     Adelie  ...      4300.0    male  2008\n73       0.949112     74     Adelie  ...      4150.0    male  2008\n223      0.938686    224     Gentoo  ...      5000.0    male  2008\n289      0.929323    290  Chinstrap  ...      4050.0    male  2007\n242      0.923924    243     Gentoo  ...      4950.0  female  2009\n317      0.914438    318  Chinstrap  ...      3650.0  female  2008\n19       0.908108     20     Adelie  ...      4200.0    male  2007\n197      0.906972    198     Gentoo  ...      4900.0  female  2008\n177      0.905509    178     Gentoo  ...      5100.0    male  2007\n229      0.901730    230     Gentoo  ...      6000.0    male  2008\n54       0.900127     55     Adelie  ...      2900.0  female  2008\n156      0.898963    157     Gentoo  ...      5400.0    male  2007\n225      0.891437    226     Gentoo  ...      5200.0  female  2008\n239      0.887460    240     Gentoo  ...      5300.0    male  2009\n273      0.884751    274     Gentoo  ...      5750.0    male  2009\n324      0.883531    325  Chinstrap  ...      3250.0    male  2009\n23       0.881101     24     Adelie  ...      3950.0    male  2007\n27       0.880034     28     Adelie  ...      3200.0  female  2007\n175      0.876310    176     Gentoo  ...      5050.0    male  2007\n134      0.876252    135     Adelie  ...      3425.0  female  2009\n310      0.869858    311  Chinstrap  ...      3600.0    male  2008\n272      0.866883    273     Gentoo  ...      4850.0  female  2009\n106      0.861813    107     Adelie  ...      3750.0  female  2009\n11       0.860677     12     Adelie  ...      3700.0     NaN  2007\n280      0.857667    281  Chinstrap  ...      3725.0    male  2007\n320      0.857076    321  Chinstrap  ...      3675.0  female  2009\n70       0.855720     71     Adelie  ...      3600.0  female  2008\n297      0.853891    298  Chinstrap  ...      3400.0    male  2007\n189      0.849117    190     Gentoo  ...      5250.0    male  2008\n110      0.832433    111     Adelie  ...      3825.0  female  2009\n100      0.829604    101     Adelie  ...      3725.0  female  2009\n178      0.828691    179     Gentoo  ...      4100.0     NaN  2007\n234      0.828592    235     Gentoo  ...      4725.0  female  2009\n194      0.824546    195     Gentoo  ...      4300.0  female  2008\n195      0.821451    196     Gentoo  ...      4750.0    male  2008\n202      0.819321    203     Gentoo  ...      4850.0  female  2008\n247      0.818314    248     Gentoo  ...      5200.0    male  2009\n307      0.817592    308  Chinstrap  ...      4300.0    male  2008\n224      0.814083    225     Gentoo  ...      5100.0    male  2008\n308      0.813684    309  Chinstrap  ...      3350.0  female  2008\n257      0.807059    258     Gentoo  ...      5500.0    male  2009\n\n[58 rows x 10 columns]\n```\n:::\n:::\n\n:::\n\n### Alternatif\n\n1. Buat $n$ integer random dari $1$ ke $N$, jumlah populasi.\n2. Ambil row yang sesuai integer random tersebut.\n\n::: {.panel-tabset}\n## R\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(dplyr)\n\nindexes <- sample.int(n = nrow(penguins), size = 3)\npenguins |> filter(rowid %in% indexes) |> knitr::kable()\n```\n\n::: {.cell-output-display}\n| rowid|species |island | bill_length_mm| bill_depth_mm| flipper_length_mm| body_mass_g|sex    | year|     rando|\n|-----:|:-------|:------|--------------:|-------------:|-----------------:|-----------:|:------|----:|---------:|\n|   198|Gentoo  |Biscoe |           43.6|          13.9|               217|        4900|female | 2008| 0.6722550|\n|   250|Gentoo  |Biscoe |           46.9|          14.6|               222|        4875|female | 2009| 0.1157471|\n|   274|Gentoo  |Biscoe |           50.4|          15.7|               222|        5750|male   | 2009| 0.5235881|\n:::\n:::\n\n\n## Python\n\n::: {.cell}\n\n```{.python .cell-code}\nimport pandas as pd\nimport numpy as np\n\nindexes = np.random.randint(0, len(penguins.index),5)\n\nnewpenguins = penguins[(penguins.index).isin(indexes)]\nnewpenguins\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n     randomNumber  rowid species  ... body_mass_g   sex  year\n10       0.704636     11  Adelie  ...      3300.0   NaN  2007\n43       0.302492     44  Adelie  ...      4400.0  male  2007\n141      0.313089    142  Adelie  ...      3475.0  male  2009\n153      0.141227    154  Gentoo  ...      5700.0  male  2007\n233      0.556984    234  Gentoo  ...      5450.0  male  2009\n\n[5 rows x 10 columns]\n```\n:::\n:::\n\n:::\n\n### Exercise\n\nBagi jadi 3 - ambil sampel sebanyak:\n\n1. 40 dari dataset Iris (https://www.kaggle.com/datasets/arshid/iris-flower-dataset)\n2. 14 dari dataset mtcars (https://gist.github.com/seankross/a412dfbd88b3db70b74b)\n3. 58 dari dataset penguins (https://gist.github.com/slopp/ce3b90b9168f2f921784de84fa445651)\n\n## Menduga Parameter populasi\n\nBeberapa rumus yang digunakan untuk menduga parameter populasi:\n\n::: {.panel-tabset}\n## Mean\n\n\n$$\n\\begin{aligned}\n\\hat{\\mu}&=\\bar{y}=\\frac{\\sum_{i=1}^n y_i}{n} & \\text{(mean)}\\\\\n\\hat{V}(\\bar{y})&=\\left(1-\\frac{n}{N}\\right)\\frac{s^2}{n}&\\text{(ragam penduga)}\\\\\\\ns^2&=\\frac{1}{n-1}\\sum_{i=1}^n(y_i-\\bar{y})^2 &\\\\\n\\hat{\\mu}&\\pm2\\sqrt{\\hat{V}(\\bar{y})} & \\text{(selang kepercayaan)}\n\\end{aligned}\n$$\n\n\nPenduga bagi mean adalah rataan sampel, yaitu total nilai dari sampel dibagi ukuran sampel. Bagaimana untuk ragam penduga? Penurunan rumus ini dimulai dari nilai $V\\left(\\bar{y}\\right)$. Dalam kasus populasi tak hingga yang saling bebas dan memiliki ragam sama: \n\n$$\n\\begin{aligned}\nV\\left(\\bar{y}\\right)&=V\\left(\\frac{y_1+\\ldots+y_n}{n}\\right)=\\frac{1}{n^2}V(y_1+\\ldots+y_n)\\\\ \n&=\\frac{V(y_1)+\\ldots+V(y_n)}{n^2}=\\frac{n\\sigma}{n^2}=\\frac{\\sigma}{n}\n\\end{aligned}\n$$ \n\n\nJadi, misal ada 100 elemen yang diobservasi di sampel, ragam dari rata-ratanya seharusnya menjadi $\\sigma/n$. Namun jika sampel terhingga, misal 100, maka ragamnya bukan $\\sigma/n$. Harusnya nol karena kita mengobservasi seluruh populasi!\n\nDengan logika yang sama, dalam kasus populasi terhingga, ukuran sampel dianggap besar atau kecil relatif terhadap ukuran populasi. Jika sebagian besar populasi sudah diambil di sampel walaupun $n$ atau ukuran absolutnya kecil, seharusnya ragam dari rata-rata berkurang signifikan. Oleh karena itu, perlu ada *faktor koreksi populasi terhingga*. Dengan faktor koreksi tersebut, ditemukan bahwa \n\n$$\n\\mathrm{Var}(\\bar{y}) = \\frac{\\sigma^2}{n} \\left( \\frac{N-n}{N-1} \\right)\n$$\n\n\nUntuk lengkapnya, baca di [sini](https://stats.stackexchange.com/questions/5158/explanation-of-finite-population-correction-factor).\n\nLalu ternyata $E(s^2)=\\frac{N}{N-1}\\sigma^2$. Derivasi ada di halaman akhir buku Schaeffer. Oleh karena itu, agar pendugaan tak bias, perlu dikalikan dengan $\\frac{N-n}{N}=\\left(1-\\frac{n}{N})\\right$.\n\nSelang kepercayaan $95\\%$ selalu akan memiliki bentuk $\\hat{\\mu}&\\pm2\\sqrt{\\hat{V}(\\bar{y})} $. Agar kepercayaan $95\\%$, maka probabilitas di sisi kiri dan kanan masing masing $2.5\\%$. $Z_{0.025}=1.96$.\n\n## Total\n\n\n$$\n\\begin{aligned}\n\\hat{\\tau}&=N\\bar{y}=\\frac{N\\sum_{i=1}^n y_i}{n} & \\text{(total)}\\\\\n\\hat{V}(\\hat{\\tau})&=\\hat{V}(N\\bar{y})=N^2\\left(1-\\frac{n}{N}\\right)\\frac{s^2}{n}&\\text{(ragam penduga)}\\\\\\\n\\hat{\\tau}&\\pm2\\sqrt{\\hat{V}(\\tau)} & \\text{(selang kepercayaan)}\n\\end{aligned}\n$$\n\n\nLogika dari penduga ini adalah perkalian penduga-penduga mean sebelumnya dengan ukuran populasi $N$. Karena ragam merupakan semua bentuk kuadrat, maka ukuran populasi dikuadratkan ($N^2$).\n\n## Proporsi\n\n\n$$\n\\begin{aligned}\n\\hat{p}&=\\bar{y}=\\frac{\\sum_{i=1}^n y_i}{n} & \\text{(proporsi, y=1 atau 0)}\\\\\n\\hat{V}(\\hat{p})&=\\left(1-\\frac{n}{N}\\right)\\frac{\\hat{p}\\hat{q}}{n-1}&\\text{(ragam penduga)}\\\\\n\\hat{q}&=1-\\hat{p}\\\\\n\\hat{p}&\\pm2\\sqrt{\\hat{V}(p)} & \\text{(selang kepercayaan)}\n\\end{aligned}\n$$\n\n\nPenduga ragam proporsi tersebut berasal dari sebaran Bernoulli. Peluang satu observasi $Y$ memiliki nilai 1 (sukses) atau 0 (gagal) dimodelkan dengan:\n\n\n$$\nf(y)=p^{y}(1-p)^{1-y}\n$$\n\n\nNilai harapannya adalah:\n\n\n$$\n0\\cdot f(0)+1\\cdot f(1)=p\n$$\n\n\nDan ragamnya adalah:\n\n\n$$\n\\begin{aligned}\n(0-p)^2 f(o)+(1-p)^2f(1)&=p^2(1-p)+p(1-p)^2\\\\ \n&=p(p-p^2+1-2p+p^2)=p(1-p)\\\\ \n&=pq\n\\end{aligned}\n$$\n\n\nYang menggantikan $\\sigma$ untuk satu observasi. Selebihnya, filosofi penurunannya sama.\n\n:::\n\n### Cara Perhitungan: Excel Cheatsheet\n\n#### Mean\n\nAsumsikan Anda ingin menghitung rata-rata *bill length* dari 50 penguin di sebuah sampel dataset penguins. Asumsikan bahwa data tersebut dikumpulkan melalui *simple ranom sampling*, dari populasi 344 penguin di dataset.\n\n![Dataset](count-1.png)\n\nSebelum menghitung rata-rata, perhatikan bahwa angka-angka di dataset rata kiri. Ternyata, angka tersebut belum dianggap data numerik oleh Excel. Oleh karena itu, buat kolom baru untuk konversi menggunakan fungsi `VALUE`. Untuk baris pertama, misal, nilai *bill length* berada di D2. Oleh karena itu, nilai kolom baru tersebut adalah `VALUE(D2)`.\n\n![Konversi](count-2.png)\n\nLangkah pertama adalah menghitung rata-rata. Bill length yang berbentuk angka berada di kolom E, 2-51. Maka tuliskan `SUM(E2:E51)/50` atau `AVERAGE(E2:E51)`\n\n![Penduga rataan](count-3.png)\n\nDapat dilakukan dua cara untuk menghitung simpangan baku sampel. Pertama, dapat dibuat kolom simpangan $y-\\bar{y}$, lalu dikuadratkan. Karena kita ingin mengurangi seluruh kolom E dengan konstanta di B53, maka gunakan `$B$53` agar posisi sel yang mengandung rataan sampel tidak berubah. `$B` menetapkan indeks kolom (tidak berubah  jika di-*copy* ke kanan-kiri) dan `$53` menetapkan indeks baris (tidak berubah  jika di-*copy* ke atas-bawah). Kolom E tidak perlu diberi tanda `$`. Justru, jika diberi tanda dolar di `E$1`, misal, indeks baris (angka) akan tetap di E1 walaupun rumus di-*copy* ke baris di bawahnya. \n\n![Deviasi](count-4.png)\n\nUntuk mengkuadratkan, gunakan `[tempat sel]^2`. Misal ingin mengkuadratkan sel E1, maka tulis `E1^2`. Gunakan `SUM` untuk mencari jumlah, dan bagi $n-1$. Atau, dapat digunakan `VAR.S(RANGE)`. Jadi, buat `VAR.S(E2:E51)`.\n\n![Ragam](count-6.png)\n\nLalu, hitung faktor koreksi dan $1/n$. Gunakan `PRODUCT` untuk menghitung perkalian:\n\n![Ragam penduga](count-7.png)\n\nBoE selalu memiliki bentuk $2\\sqrt{V(\\hat{\\mu})}$ untuk mean:\n\n![BoE](count-8.png)\n\n#### Total\n\nKarena diketahui bahwa:\n\n\n$$\n\\hat{\\tau}=N\\bar{y};\\quad \\mathrm{V(\\hat{\\tau})}= \\mathrm{V(N\\bar{y})=N^2V(\\bar{y})}\n$$\n\n\nMaka perhitungan cukup sederhana.\n\n![Total](count-9.png)\n\n#### Proporsi\n\nMisal ingin dihitung proporsi penguin laki-laki. Cara sederhana adalah mengkonversi data kategorik jenis kelamin menjadi data biner 0/1 menggunakan fungsi `IF`. Misal jika baris pertama (K2) laki-laki, buat menjadi 1. Jika tidak, buat menjadi 0. Jadi:  `IF(K2=\"male\"; 1; 0)`. Lalu tambahkan dan bagi 50 untuk mendapat proporsi.\n\n![Konversi](count-10.png)\n\nSehingga hasilnya:\n\n![](count-11.png)\n\n### Reporting menggunakan LaTeX\n\nRumus-rumus matematika dapat ditulis dengan lebih mudah menggunakan LaTeX. LaTeX dapat digunakan di Microsoft Word di menu *Equation*. Menu tersebut diakses menggunakan `Alt + Tab`. \n\n![](count-12.png)\n\nAtau, dapat diakses menggunakan [Overleaf](https://www.overleaf.com/). \n\nAngka dituliskan di LaTeX seperti biasa. Simbol-simbol ditulis menggunakan `\\namasimbol`, misal `\\theta` untuk $\\theta$. `\\mu` dan `\\sigma` menuliskan $\\mu$ dan $\\sigma$. `\\bar{y}` menghasilkan $\\bar{y}$ dan `\\hat{\\mu}` menghasilkan $\\hat{\\mu}$. \n\nSubskrip dan superskrip ditulis menggunakan _ dan ^. Misal, `y_{i3}^{e4}` menghasilkan $y_{i3}^{e4}$. Pertambahan ditulis menggunakan `\\sum`. \n\nPecahan ditulis menggunakan `\\frac{}{}`. Misal `\\frac{1}{2}` menghasilkan $\\frac{1}{2}$. Pertambahan dituliskan menggunakan `\\sum` dan perkalian dituliskan menggunakan `\\prod`.\n\nAda beberapa *environment* di LaTeX. *Environment* yang cukup penting adalah *aligned*. Tiap baris dipisahkan menggunakan `//`. Kesejajaran tiap baris dipastikan dengan tanda `&`. Misal `&=` memastikan tanda sama dengan pertama di tiap baris sejajar.\n\nMisal, kode LaTeX untuk menuliskan penduga mean:\n\n```\n\\begin{aligned}\n\\hat{\\mu}&=\\bar{y}=\\frac{\\sum_{i=1}^n y_i}{n} & \\text{(mean)}\\\\\n\\hat{V}(\\bar{y})&=\\left(1-\\frac{n}{N}\\right)\\frac{s^2}{n}&\\text{(ragam penduga)}\\\\\\\ns^2&=\\frac{1}{n-1}\\sum_{i=1}^n(y_i-\\bar{y})^2 &\\\\\n\\hat{\\mu}&\\pm2\\sqrt{\\hat{V}(\\bar{y})} & \\text{(selang kepercayaan)}\n\\end{aligned}\n```\n\n### Exercise\n\nHitung mean, total, dan proporsi 3 variabel di sampel yang kamu ambil. Bandingkan dengan nilai parameter populasi:\n\n1. Apakah sama?\n2. Apakah nilai parameter populasi masuk selang kepercayaan?\n\n## Menghitung Ukuran Sampel\n\nPenduga untuk ukuran sampel secara umum ditemukan dengan memodifikasi rumus BoE. Ingat bahwa BoE adalah $2\\sqrt{V(\\bar{y})}$. Oleh karena itu, ukuran sampel yang mengontrol BoE menjadi jumlah tertentu ditemukan dengan memanipulasi rumus tersebut.\n\n::: {.panel-tabset}\n## Mean\n\n\n$$\n\\begin{aligned}\nn=\\frac{N\\sigma^2}{(N-1)D+\\sigma^2}; \\quad D=\\frac{B^2}{4}\n\\end{aligned}\n$$\n\n\nRumus itu tidak lain ditemukan dari:\n\n\n$$\n\\begin{aligned}\n\\mathrm{Var}(\\bar{y})&= \\frac{\\sigma^2}{n} \\left( \\frac{N-n}{N-1} \\right)\\\\ \nB&=2\\sqrt{\\mathrm{V}(\\bar{y})}\\\\ \n\\sqrt{D}&=\\frac{B}{2}=\\sqrt{\\frac{\\sigma^2}{n} \\left( \\frac{N-n}{N-1} \\right)}\\\\ \nD&=\\frac{\\sigma^2}{n} \\left( \\frac{N-n}{N-1} \\right)=\\frac{1}{n}\\left(\\frac{\\sigma^2N-\\sigma^2n}{N-1}\\right)\\\\ \nn&=\\frac{\\sigma^2N-\\sigma^2n}{ND-D}\\\\ \nn+\\frac{\\sigma^2n}{ND-D}&=\\frac{\\sigma^2N}{ND-D}\\\\ \nn\\left(1+\\frac{\\sigma^2}{ND-D}\\right)&=\\frac{\\sigma^2N}{ND-D}\\\\ \nn&=\\frac{\\sigma^2N}{ND-D}\\cdot\\frac{ND-D}{ND-D+\\sigma^2}=\\frac{N\\sigma^2}{(N-1)D+\\sigma^2}\n\\end{aligned}\n$$\n\n\nPenurunan untuk kasus-kasus lain akan relatif sama dengan penurunan ini.\n\n## Total\n\n\n$$\n\\begin{aligned}\nn=\\frac{N\\sigma^2}{(N-1)D+\\sigma^2}; \\quad D=\\frac{B^2}{4N^2}\n\\end{aligned}\n$$\n\n\nRumus ini ditemukan dari fakta bahwa $\\tau=N\\bar{y}$ sehingga:\n\n\n$$\n\\begin{aligned}\nB&=2\\sqrt{\\mathrm{V}(N\\bar{y})}=2\\sqrt{N^2 V(\\bar{y})}=2N\\sqrt{V(\\bar{y})}\\\\ \n\\sqrt{D}&=\\frac{B}{2N}=\\sqrt{V(\\bar{y})}\\\\ \n\\end{aligned}\n$$\n\n\nYang diturunkan dengan cara sama seperti sebelumnya.\n\n## Proporsi\n\n\n$$\n\\begin{aligned}\nn=\\frac{Npq}{(N-1)D+pq}; \\quad D=\\frac{B^2}{4N}, \\ q=1-p\n\\end{aligned}\n$$\n\n\n$\\sigma^2$ digantikan saja dengan $pq$, dengan alasan yang dijelaskan di penduga ragam proporsi. \n\nKeuntungan perhitungan ukuran sampel untuk proporsi adalah dapat dihitung jika $p$ dan $q$ tidak diketahui. Dapat diasumsikan $p$ dan $q$ yang memaksimumkan ragam, yaitu $0.5$ (ambil turunan pertama dari $p-p^2$).\n:::\n\n## Membandingkan Penduga\n\nUntuk dua peubah acak $y_1$ dan $y_2$:\n\n\n$$\nE(y_1-y_2)=E(y_1)-E(y_2)\n$$\n\n\nDan:\n\n\n$$\nV(y_1-y_2)=V(y_1)+V(y_2)-2\\mathrm{Cov}(y_1,y_2)\n$$\n\n\nJika $y_1$ dan $y_2$ saling bebas $\\mathrm{Cov}(y_1,y_2)=0$. Jika $y_1, \\ldots, y_n$ dan $x_1, \\ldots, x_m$ saling bebas dengan rata-rata $\\mu_x$ dan $\\mu_y$. Maka jika diduga menggunakan $\\bar{y}-\\bar{x}$.\n\n\n$$\nE(\\bar{y}-\\bar{x})=E(\\bar{y})-E(\\bar{x})=\\mu_y-\\mu_x\n$$\n\n\nDan:\n\n\n$$\nV(\\bar{y}-\\bar{x})=V(\\bar{y})+V(\\bar{x})\n$$\n\n\nYang ditemukan melalui rumus sebelumnya.",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}